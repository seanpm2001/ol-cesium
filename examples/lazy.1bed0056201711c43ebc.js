(()=>{"use strict";var e,t={189:(e,t,i)=>{var n=i(7811),s=i(9800),r=i(7761),a=i(9529),o=i(6424),m=i(5761);class c{constructor(e){this.promise,this.url_=e}load(){return this.promise||(this.promise=new Promise(((e,t)=>{const i=document.createElement("script");i.onload=()=>e(),i.onerror=()=>t(),document.head.appendChild(i),i.src=this.url_}))),this.promise}}var l=i(4804),u=i(3017),h=i(8866),d=i(2428);const g=class extends d.Z{constructor(e,t){let{map:i,cameraExtentInRadians:n,cesiumIonDefaultAccessToken:s}=void 0===t?{}:t;super(),this.cesiumUrl_=e,this.map=i,this.cameraExtentInRadians=n||null,this.boundingSphere_,this.promise_,this.cesiumIonDefaultAccessToken_=s,this.ol3d,this.cesiumInitialTilt_=(0,h.Y)(50),this.fogDensity=1e-4,this.fogSSEFactor=25,this.minimumZoomDistance=2,this.maximumZoomDistance=1e7,this.limitCameraToBoundingSphereRatio=e=>e>3e3?9:3}load(){if(!this.promise_){const e=new c(this.cesiumUrl_);this.promise_=e.load().then((()=>this.onCesiumLoaded()))}return this.promise_}onCesiumLoaded(){if(this.cameraExtentInRadians){const e=new Cesium.Rectangle(...this.cameraExtentInRadians);Cesium.Camera.DEFAULT_VIEW_RECTANGLE=e,this.boundingSphere_=Cesium.BoundingSphere.fromRectangle3D(e,Cesium.Ellipsoid.WGS84,300)}this.cesiumIonDefaultAccessToken_&&(Cesium.Ion.defaultAccessToken=this.cesiumIonDefaultAccessToken_),this.ol3d=this.instantiateOLCesium();const e=this.ol3d.getCesiumScene();return this.configureForUsability(e),this.configureForPerformance(e),this.dispatchEvent("load"),this.ol3d}instantiateOLCesium(){const e=new l.Z({map:this.map}),t=e.getCesiumScene();if(Cesium.createWorldTerrain){const e=Cesium.createWorldTerrain();t.terrainProvider=e}else Cesium.createWorldTerrainAsync().then((e=>t.terrainProvider=e));return e}configureForPerformance(e){const t=e.fog;t.enabled=!0,t.density=this.fogDensity,t.screenSpaceErrorFactor=this.fogSSEFactor}configureForUsability(e){const t=e.screenSpaceCameraController;t.minimumZoomDistance=this.minimumZoomDistance,t.maximumZoomDistance=this.maximumZoomDistance,e.globe.depthTestAgainstTerrain=!0,e.globe.baseColor=Cesium.Color.WHITE,e.backgroundColor=Cesium.Color.WHITE,this.boundingSphere_&&e.postRender.addEventListener(this.limitCameraToBoundingSphere.bind(this)),this.ol3d.enableAutoRenderLoop()}limitCameraToBoundingSphere(){const e=this.ol3d.getCesiumScene();(0,u.YD)(e.camera,this.boundingSphere_,this.limitCameraToBoundingSphereRatio)}toggle3d(){return this.load().then((e=>{const t=e.getEnabled(),i=e.getCesiumScene();return t?(0,u.sZ)(this.map,i).then((()=>{e.setEnabled(!1),this.dispatchEvent("toggle")})):(e.setEnabled(!0),this.dispatchEvent("toggle"),(0,u.BV)(i,this.cesiumInitialTilt_))}))}set3dWithView(e,t,i,n,s){return this.load().then((r=>{const a=r.getEnabled(),o=r.getCesiumScene().camera,m=Cesium.Cartesian3.fromDegrees(e,t,i),c={heading:Cesium.Math.toRadians(n),pitch:Cesium.Math.toRadians(s),roll:0};a||(r.setEnabled(!0),this.dispatchEvent("toggle")),o.setView({destination:m,orientation:c})}))}is3dEnabled(){return!!this.ol3d&&this.ol3d.getEnabled()}getHeading(){return this.map&&this.map.getView().getRotation()||0}getTiltOnGlobe(){const e=this.ol3d.getCesiumScene();return-(0,u.Re)(e)}setHeading(e){const t=this.ol3d.getCesiumScene(),i=(0,u.DQ)(t);i&&(0,u.BN)(t,e,i)}getOl3d(){return this.ol3d}getOlView(){return this.map.getView()}getCesiumViewMatrix(){return this.ol3d.getCesiumScene().camera.viewMatrix}getCesiumScene(){return this.ol3d.getCesiumScene()}flyToRectangle(e,t){void 0===t&&(t=0);const i=this.getCesiumScene().camera,n=i.getRectangleCameraCoordinates(e),s=Cesium.Cartesian3.magnitude(n)+t;return Cesium.Cartesian3.normalize(n,n),Cesium.Cartesian3.multiplyByScalar(n,s,n),new Promise(((e,t)=>{this.cameraExtentInRadians?i.flyTo({destination:n,complete:()=>e(),cancel:()=>t(),endTransform:Cesium.Matrix4.IDENTITY}):t()}))}getCameraExtentRectangle(){if(this.cameraExtentInRadians)return new Cesium.Rectangle(...this.cameraExtentInRadians)}};var p=i(196);const C=new m.Z({layers:[new o.Z({source:new a.Z})],controls:(0,r.c)({attributionOptions:{collapsible:!1}}),target:"map",view:new s.ZP({center:(0,n.vs)([25,20],"EPSG:4326","EPSG:3857"),zoom:3})});window.manager=new g(window.CESIUM_URL,{map:C,cameraExtentInRadians:[.0897,.7923,.2003,.8417],cesiumIonDefaultAccessToken:p.x})}},i={};function n(e){var s=i[e];if(void 0!==s)return s.exports;var r=i[e]={exports:{}};return t[e].call(r.exports,r,r.exports,n),r.exports}n.m=t,e=[],n.O=(t,i,s,r)=>{if(!i){var a=1/0;for(l=0;l<e.length;l++){for(var[i,s,r]=e[l],o=!0,m=0;m<i.length;m++)(!1&r||a>=r)&&Object.keys(n.O).every((e=>n.O[e](i[m])))?i.splice(m--,1):(o=!1,r<a&&(a=r));if(o){e.splice(l--,1);var c=s();void 0!==c&&(t=c)}}return t}r=r||0;for(var l=e.length;l>0&&e[l-1][2]>r;l--)e[l]=e[l-1];e[l]=[i,s,r]},n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.j=675,(()=>{var e={675:0};n.O.j=t=>0===e[t];var t=(t,i)=>{var s,r,[a,o,m]=i,c=0;if(a.some((t=>0!==e[t]))){for(s in o)n.o(o,s)&&(n.m[s]=o[s]);if(m)var l=m(n)}for(t&&t(i);c<a.length;c++)r=a[c],n.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return n.O(l)},i=self.webpackChunkol_cesium=self.webpackChunkol_cesium||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))})();var s=n.O(void 0,[351],(()=>n(189)));s=n.O(s)})();
//# sourceMappingURL=lazy.1bed0056201711c43ebc.js.map